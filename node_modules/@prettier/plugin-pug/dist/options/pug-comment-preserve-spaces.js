"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.formatPugCommentPreserveSpaces = exports.PUG_COMMENT_PRESERVE_SPACES_OPTION = void 0;
const _1 = require(".");
exports.PUG_COMMENT_PRESERVE_SPACES_OPTION = {
    since: '1.6.0',
    category: _1.CATEGORY_PUG,
    type: 'choice',
    default: 'keep-all',
    description: 'Change behavior of spaces within comments.',
    choices: [
        {
            value: 'keep-all',
            description: 'Keep all spaces within comments. Example: `//    this  is   a   comment`',
        },
        {
            value: 'keep-leading',
            description: 'Keep leading spaces within comments. Example: `//    this is a comment`',
        },
        {
            value: 'trim-all',
            description: 'Trim all spaces within comments. Example: `// this is a comment`',
        },
    ],
};
function formatPugCommentPreserveSpaces(input, pugCommentPreserveSpaces, pipeless = false) {
    switch (pugCommentPreserveSpaces) {
        case 'keep-leading': {
            let result = '';
            let firstNonSpace = 0;
            for (firstNonSpace; firstNonSpace < input.length && input[firstNonSpace] === ' '; firstNonSpace++) {
                result += ' ';
            }
            result += input.slice(firstNonSpace).trim().replace(/\s\s+/g, ' ');
            return result;
        }
        case 'trim-all': {
            let result = input.trim();
            result = result.replace(/\s\s+/g, ' ');
            if (!pipeless && input[0] === ' ') {
                result = ` ${result}`;
            }
            return result;
        }
        case 'keep-all':
        default:
            return input;
    }
}
exports.formatPugCommentPreserveSpaces = formatPugCommentPreserveSpaces;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVnLWNvbW1lbnQtcHJlc2VydmUtc3BhY2VzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL29wdGlvbnMvcHVnLWNvbW1lbnQtcHJlc2VydmUtc3BhY2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHdCQUFpQztBQUdwQixRQUFBLGtDQUFrQyxHQUM3QztJQUNFLEtBQUssRUFBRSxPQUFPO0lBQ2QsUUFBUSxFQUFFLGVBQVk7SUFDdEIsSUFBSSxFQUFFLFFBQVE7SUFDZCxPQUFPLEVBQUUsVUFBVTtJQUNuQixXQUFXLEVBQUUsNENBQTRDO0lBQ3pELE9BQU8sRUFBRTtRQUNQO1lBQ0UsS0FBSyxFQUFFLFVBQVU7WUFDakIsV0FBVyxFQUNULDBFQUEwRTtTQUM3RTtRQUNEO1lBQ0UsS0FBSyxFQUFFLGNBQWM7WUFDckIsV0FBVyxFQUNULHlFQUF5RTtTQUM1RTtRQUNEO1lBQ0UsS0FBSyxFQUFFLFVBQVU7WUFDakIsV0FBVyxFQUNULGtFQUFrRTtTQUNyRTtLQUNGO0NBQ0YsQ0FBQztBQWFKLFNBQWdCLDhCQUE4QixDQUM1QyxLQUFhLEVBQ2Isd0JBQWtELEVBQ2xELFdBQW9CLEtBQUs7SUFFekIsUUFBUSx3QkFBd0IsRUFBRTtRQUNoQyxLQUFLLGNBQWMsQ0FBQyxDQUFDO1lBQ25CLElBQUksTUFBTSxHQUFXLEVBQUUsQ0FBQztZQUN4QixJQUFJLGFBQWEsR0FBVyxDQUFDLENBQUM7WUFDOUIsS0FDRSxhQUFhLEVBQ2IsYUFBYSxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEdBQUcsRUFDNUQsYUFBYSxFQUFFLEVBQ2Y7Z0JBQ0EsTUFBTSxJQUFJLEdBQUcsQ0FBQzthQUNmO1lBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNuRSxPQUFPLE1BQU0sQ0FBQztTQUNmO1FBQ0QsS0FBSyxVQUFVLENBQUMsQ0FBQztZQUNmLElBQUksTUFBTSxHQUFXLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLFFBQVEsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO2dCQUNqQyxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQzthQUN2QjtZQUNELE9BQU8sTUFBTSxDQUFDO1NBQ2Y7UUFDRCxLQUFLLFVBQVUsQ0FBQztRQUNoQjtZQUVFLE9BQU8sS0FBSyxDQUFDO0tBQ2hCO0FBQ0gsQ0FBQztBQWhDRCx3RUFnQ0MifQ==